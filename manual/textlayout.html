<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Text Layout &#8212; Urwid 3.0.0</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/classic.css?v=65f223dd" />
    
    <script src="../_static/documentation_options.js?v=acc74ff5"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="canonical" href="https://urwid.org/manual/textlayout.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Encodings Supported" href="encodings.html" />
    <link rel="prev" title="User Input" href="userinput.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="encodings.html" title="Encodings Supported"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="userinput.html" title="User Input"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Urwid 3.0.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Urwid Manual</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Text Layout</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="text-layout">
<span id="id1"></span><h1>Text Layout<a class="headerlink" href="#text-layout" title="Link to this heading">¶</a></h1>
<p>Mapping a text string to screen coordinates within a widget is called text
layout. The <a class="reference internal" href="../reference/widget.html#urwid.Text" title="urwid.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a> widget’s default layout class supports
aligning text to the left, center or right, and can wrap text on space
characters, at any location, or clip text that is off the edge, optionally
inserting an ellipsis character.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Showing some different alignment modes&quot;</span><span class="p">,</span> <span class="n">align</span><span class="o">=...</span><span class="p">)</span>

<span class="n">align</span><span class="o">=</span><span class="s1">&#39;left&#39;</span> <span class="p">(</span><span class="n">default</span><span class="p">)</span>
<span class="o">+----------------+</span>   <span class="o">+------------------------+</span>
<span class="o">|</span><span class="n">Showing</span> <span class="n">some</span>    <span class="o">|</span>   <span class="o">|</span><span class="n">Showing</span> <span class="n">some</span> <span class="n">different</span>  <span class="o">|</span>
<span class="o">|</span><span class="n">different</span>       <span class="o">|</span>   <span class="o">|</span><span class="n">alignment</span> <span class="n">modes</span>         <span class="o">|</span>
<span class="o">|</span><span class="n">alignment</span> <span class="n">modes</span> <span class="o">|</span>   <span class="o">+------------------------+</span>
<span class="o">+----------------+</span>

<span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span>
<span class="o">+----------------+</span>   <span class="o">+------------------------+</span>
<span class="o">|</span>  <span class="n">Showing</span> <span class="n">some</span>  <span class="o">|</span>   <span class="o">|</span> <span class="n">Showing</span> <span class="n">some</span> <span class="n">different</span> <span class="o">|</span>
<span class="o">|</span>   <span class="n">different</span>    <span class="o">|</span>   <span class="o">|</span>    <span class="n">alignment</span> <span class="n">modes</span>     <span class="o">|</span>
<span class="o">|</span><span class="n">alignment</span> <span class="n">modes</span> <span class="o">|</span>   <span class="o">+------------------------+</span>
<span class="o">+----------------+</span>

<span class="n">align</span><span class="o">=</span><span class="s1">&#39;right&#39;</span>
<span class="o">+----------------+</span>   <span class="o">+------------------------+</span>
<span class="o">|</span>    <span class="n">Showing</span> <span class="n">some</span><span class="o">|</span>   <span class="o">|</span>  <span class="n">Showing</span> <span class="n">some</span> <span class="n">different</span><span class="o">|</span>
<span class="o">|</span>       <span class="n">different</span><span class="o">|</span>   <span class="o">|</span>         <span class="n">alignment</span> <span class="n">modes</span><span class="o">|</span>
<span class="o">|</span> <span class="n">alignment</span> <span class="n">modes</span><span class="o">|</span>   <span class="o">+------------------------+</span>
<span class="o">+----------------+</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Text(&quot;Showing some different wrapping modes\nnewline&quot;, wrap=...)

wrap=&#39;space&#39; (default)
+----------------+   +------------------------+
|Showing some    |   |Showing some different  |
|different       |   |wrapping modes          |
|wrapping modes  |   |newline                 |
|newline         |   +------------------------+
+----------------+

wrap=&#39;any&#39;
+----------------+   +------------------------+
|Showing some dif|   |Showing some different w|
|ferent wrapping |   |rapping modes           |
|modes           |   |newline                 |
|newline         |   +------------------------+
+----------------+

wrap=&#39;clip&#39;
+----------------+   +------------------------+
|Showing some dif|   |Showing some different w|
|newline         |   |newline                 |
+----------------+   +------------------------+

wrap=&#39;ellipsis&#39;
+----------------+   +------------------------+
|Showing some di…|   |Showing some different …|
|newline         |   |newline                 |
+----------------+   +------------------------+
</pre></div>
</div>
<p>If this is good enough for your application feel free to skip the rest of this
section.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../reference/widget.html#urwid.Text" title="urwid.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span> <span class="pre">widget</span> <span class="pre">reference</span></code></a></p>
</div>
<section id="custom-text-layouts">
<h2>Custom Text Layouts<a class="headerlink" href="#custom-text-layouts" title="Link to this heading">¶</a></h2>
<p>The <a class="reference internal" href="../reference/text_layout.html#urwid.StandardTextLayout" title="urwid.StandardTextLayout"><code class="xref py py-class docutils literal notranslate"><span class="pre">StandardTextLayout</span></code></a> is set as the class variable
<code class="xref py py-attr docutils literal notranslate"><span class="pre">Text.layout</span></code>. Individual <a class="reference internal" href="../reference/widget.html#urwid.Text" title="urwid.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a>
widgets may use a different layout class, or you can change the default by
setting the <code class="xref py py-attr docutils literal notranslate"><span class="pre">Text.layout</span></code> class variable itself.</p>
<p>A custom text layout class should extend the
<a class="reference internal" href="../reference/text_layout.html#urwid.TextLayout" title="urwid.TextLayout"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextLayout</span></code></a> base class and return text layout
structures from its <code class="docutils literal notranslate"><span class="pre">layout()</span></code> method.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../reference/text_layout.html#urwid.TextLayout" title="urwid.TextLayout"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextLayout</span> <span class="pre">reference</span></code></a></p>
</div>
</section>
<section id="text-layout-structures">
<h2>Text Layout Structures<a class="headerlink" href="#text-layout-structures" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;This is how a string of text might be displayed&quot;</span>
<span class="mi">0</span><span class="o">----</span><span class="mi">5</span><span class="o">---</span><span class="mi">10</span><span class="o">---</span><span class="mi">15</span><span class="o">---</span><span class="mi">20</span><span class="o">---</span><span class="mi">25</span><span class="o">---</span><span class="mi">30</span><span class="o">---</span><span class="mi">35</span><span class="o">---</span><span class="mi">40</span><span class="o">---</span><span class="mi">45</span><span class="o">--</span>

<span class="mi">0</span><span class="o">----</span><span class="mi">5</span><span class="o">---</span><span class="mi">10</span><span class="o">---</span><span class="mi">15</span><span class="o">---+</span>   <span class="n">right_aligned_text_layout</span> <span class="o">=</span> <span class="p">[</span>
<span class="o">|</span>     <span class="n">This</span> <span class="ow">is</span> <span class="n">how</span> <span class="n">a</span><span class="o">|</span>     <span class="p">[(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">13</span><span class="p">)],</span>
<span class="o">|</span>    <span class="n">string</span> <span class="n">of</span> <span class="n">text</span><span class="o">|</span>     <span class="p">[(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span> <span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">28</span><span class="p">)],</span>
<span class="o">|</span><span class="n">might</span> <span class="n">be</span> <span class="n">displayed</span><span class="o">|</span>     <span class="p">[(</span><span class="mi">18</span><span class="p">,</span> <span class="mi">29</span><span class="p">,</span> <span class="mi">47</span><span class="p">)]</span>
<span class="o">+------------------+</span>   <span class="p">]</span>
</pre></div>
</div>
<p>The mapping from a text string to where that text will be displayed in the
widget is expressed as a text layout structure.</p>
<p>Text layout structures are used both for rendering <a class="reference internal" href="../reference/widget.html#urwid.Text" title="urwid.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a>
widgets and for mapping <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y)</span></code> positions within a widget back to the
corresponding offsets in the text. The latter is used when moving the cursor in
<a class="reference internal" href="../reference/widget.html#urwid.Edit" title="urwid.Edit"><code class="xref py py-class docutils literal notranslate"><span class="pre">Edit</span></code></a> widgets up and down or by clicking with the mouse.</p>
<p>A text layout structure is a list of one or more line layouts. Each line layout
corresponds to a row of text in the widget, starting from its top.</p>
<p>A line layout is a list zero or more of the following tuples, each expressing
text to be displayed from left to right:</p>
<ol class="upperalpha simple">
<li><p>(<em>column width</em>, <em>starting text offset</em>, <em>ending text offset</em>)</p></li>
<li><p>(<em>column width of space characters to insert</em>, <em>text offset</em> or <code class="docutils literal notranslate"><span class="pre">None</span></code>)</p></li>
<li><p>(<em>column width</em>, <em>text offset</em>, <em>new text to insert</em>)``</p></li>
</ol>
<p>Tuple A displays a segment of text from the <a class="reference internal" href="../reference/widget.html#urwid.Text" title="urwid.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a> widget.
Column width is explicitly specified because some characters within the text
may be zero width or double width.</p>
<p>Tuple B inserts any number of space characters, and if those characters
correspond to an offset within the text, that may be specified.</p>
<p>Tuple C allows insertion of arbitrary text. This could be used for hyphenating
split words or any other effect not covered by A or B. The
<a class="reference internal" href="../reference/text_layout.html#urwid.StandardTextLayout" title="urwid.StandardTextLayout"><code class="xref py py-class docutils literal notranslate"><span class="pre">StandardTextLayout</span></code></a> does not currently use this
tuple in its line layouts.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../reference/text_layout.html#urwid.TextLayout" title="urwid.TextLayout"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextLayout</span> <span class="pre">reference</span></code></a>,
<a class="reference internal" href="../reference/text_layout.html#urwid.StandardTextLayout" title="urwid.StandardTextLayout"><code class="xref py py-class docutils literal notranslate"><span class="pre">StandardTextLayout</span> <span class="pre">reference</span></code></a></p>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/urwid-logo.png" alt="Logo of Urwid"/>
            </a></p><h3>Table of contents</h3>
    <ul><li><a href="index.html">Manual</a></li><ul>
<li><a class="reference internal" href="#">Text Layout</a><ul>
<li><a class="reference internal" href="#custom-text-layouts">Custom Text Layouts</a></li>
<li><a class="reference internal" href="#text-layout-structures">Text Layout Structures</a></li>
</ul>
</li>
</ul>

    </ul>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="userinput.html"
                          title="previous chapter">User Input</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="encodings.html"
                          title="next chapter">Encodings Supported</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/manual/textlayout.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="encodings.html" title="Encodings Supported"
             >next</a> |</li>
        <li class="right" >
          <a href="userinput.html" title="User Input"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Urwid 3.0.0</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Urwid Manual</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Text Layout</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2014, Ian Ward et al.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>